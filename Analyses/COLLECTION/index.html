<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://revolution.readthedocs.io/Analyses/COLLECTION/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Scraping Letters of Delegates to Congress - Historiographing the Era of the American Revolution</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Scraping Letters of Delegates to Congress";
        var mkdocs_page_input_path = "Analyses\\COLLECTION.md";
        var mkdocs_page_url = "/Analyses/COLLECTION/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Historiographing the Era of the American Revolution
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="https://github.com/h-gear/revolution">Source code</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="https://github.com/h-gear/revolution/issues">Issues</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Background of the project</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Background/BACKGROUND/">Hgear</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Background/QUESTIONS/">Research questions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Background/METHODS/">Methods</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Background/DATA/">Data</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Started/INSTALLATION/">Installation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Data preparation and EDA</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../INTRODUCTION/">Introduction</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Scraping Letters of Delegates to Congress</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#objective">Objective</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#workflow">Workflow</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#step-by-step-guide">Step-by-Step Guide</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-loading-required-libraries">1. Loading Required Libraries</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-scraping-the-target-website">2. Scraping the Target Website</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#3-data-cleaning">3. Data Cleaning</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#4-matching-id-to-text">4. Matching ID to Text</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#5-saving-raw-data">5. Saving Raw Data</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#conclusion">Conclusion</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../FFCOLLECTION/">Scraping Founding Fathers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../PREPARATION_DEL/">Data preparation Delegates of Congres</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../PREPARATION_FF/">Data preparation Founding Fathers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../EXPLORE/">Exploratory analysis</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../WORD2VEC/">Word2Vec models</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Modeling</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Modeling/INTRODUCTION/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Modeling/TOPICANALYSIS/">Semi-supervised topic modeling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Modeling/DYNTOPICANALYSIS/">Dynamic topic modeling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Modeling/SENTIMENT/">Sentiment analysis</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Modeling/NETWORK/">Network modeling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Modeling/MODELING/">Time-respecting path-based network analysis</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Modeling/GEO/">Geo-spatial model</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Developers</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../CODE_OF_CONDUCT/">Code of conduct</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING/">Contributing guidelines</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../About/CITE/">How to cite</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../About/CONTACT/">Contact information</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../About/ACTION/">In action</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Historiographing the Era of the American Revolution</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Data preparation and EDA</li>
      <li class="breadcrumb-item active">Scraping Letters of Delegates to Congress</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/h-gear/revolution/edit/master/docs/Analyses/COLLECTION.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="scraping-letters-of-delegates-to-congress">Scraping letters of Delegates to Congress</h1>
<h2 id="overview">Overview</h2>
<h3 id="objective">Objective</h3>
<p>The main objective is to scrape and save raw data from the "Letters of Delegates to Congress (1774-1789)" website hosted by the Library of Congress. This dataset will be used for various analytical purposes.</p>
<h3 id="workflow">Workflow</h3>
<ol>
<li><strong>Loading Required Libraries</strong>: Begin by loading the necessary R packages to facilitate web scraping and data manipulation.</li>
<li><strong>Scraping the Target Website</strong>: Extract URLs and corresponding text data from the Library of Congress website.</li>
<li><strong>Data Cleaning</strong>: Process the scraped text to remove unnecessary content and standardize the format.</li>
<li><strong>Matching ID to Text</strong>: Organize and structure the text data by linking it with relevant identifiers.</li>
<li><strong>Saving Raw Data</strong>: Store the cleaned data into files, either by individual volumes or as a combined dataset for further analysis.</li>
</ol>
<h2 id="step-by-step-guide">Step-by-Step Guide</h2>
<h3 id="1-loading-required-libraries">1. Loading Required Libraries</h3>
<p>To start, load the essential libraries needed for web scraping and data manipulation:</p>
<ul>
<li><strong><code>rvest</code></strong>: For web scraping.</li>
<li><strong><code>xml2</code></strong>: To parse HTML content.</li>
<li><strong><code>tidyverse</code></strong>: For data wrangling and manipulation.</li>
</ul>
<p>These libraries enable the scraping of HTML content from the web, parsing the data, and organizing it for further analysis.</p>
<h3 id="2-scraping-the-target-website">2. Scraping the Target Website</h3>
<p>The main task here is to scrape the text data from the "Letters of Delegates to Congress" available on the Library of Congress website. The process starts by accessing the base URL and extracting the relevant HTML nodes that contain the URLs to each volume of the letters.</p>
<p>These URLs are then compiled into a list, which will be iterated over to scrape the text data. Each volume contains multiple documents, and the code captures the links to these documents, scrapes the text, and stores it for later use.</p>
<h3 id="3-data-cleaning">3. Data Cleaning</h3>
<p>Once the text data has been scraped, it requires cleaning to remove any extraneous content that is not relevant to the analysis. The cleaning process involves:</p>
<ul>
<li><strong>Removing Unwanted Text</strong>: Stripping out repeated headers, footers, and navigation text that appear throughout the documents.</li>
<li><strong>Filtering Content</strong>: Excluding empty rows or rows with irrelevant data (e.g., "Page" headers).</li>
<li><strong>Standardizing Format</strong>: Ensuring that the remaining text is formatted consistently, which involves removing excess whitespace and duplicate rows.</li>
</ul>
<p>This cleaned text will then be structured for further analysis.</p>
<h3 id="4-matching-id-to-text">4. Matching ID to Text</h3>
<p>After cleaning, the data is further processed to match each piece of text with its corresponding identifier. This step involves organizing the text by assigning IDs to ensure each entry is correctly associated with its source. The cleaned and structured data will be stored in a tabular format, with the text content linked to its identifier.</p>
<p>This structured format makes it easier to analyze and query the data, ensuring that each letter or document is correctly identified and accessible.</p>
<h3 id="5-saving-raw-data">5. Saving Raw Data</h3>
<p>Finally, the cleaned and organized data is saved for future use. Depending on your needs, the data can be stored in individual files corresponding to each volume or combined into a single dataset:</p>
<ul>
<li><strong>Individual Volume Files</strong>: If you need to analyze or review specific volumes, you can save each volume as a separate file.</li>
<li><strong>Combined Dataset</strong>: For broader analyses, all volumes can be merged into a single dataset and saved accordingly.</li>
</ul>
<p>The data is saved in <code>.rds</code> format, which preserves the structure and content of the data while being efficient in storage. This final step ensures that the raw data is ready for any further analysis you plan to perform.</p>
<h2 id="conclusion">Conclusion</h2>
<p>This process allows you to efficiently scrape, clean, and store a large dataset from the "Letters of Delegates to Congress" collection. By following these steps, you ensure that the data is well-organized, consistent, and ready for complex analyses, such as temporal network analysis or SHiCo analysis.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../INTRODUCTION/" class="btn btn-neutral float-left" title="Introduction"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../FFCOLLECTION/" class="btn btn-neutral float-right" title="Scraping Founding Fathers">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/h-gear/revolution" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../INTRODUCTION/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../FFCOLLECTION/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
